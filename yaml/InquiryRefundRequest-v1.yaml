---
openapi: 3.1.0
info:
  title: payments_inquiryRefund
  description: ''
  version: 1.0.0
tags: []
paths:
  /ams/api/v1/payments/inquiryRefund:
    post:
      summary: inquiryRefund
      deprecated: false
      description: ''
      tags: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                refundRequestId:
                  type: string
                  description: 'The unique ID assigned by a merchant to identify a
                    refund request. refundRequestId and refundId cannot both be null.
                    Special characters are not supported. If both refundRequestId
                    and refundId are specified, refundId takes precedence.


                    More information:


                    Maximum length: 64 characters'
                refundId:
                  type: string
                  description: 'The unique ID assigned by Antom to identify a refund.
                    refundRequestId and refundId cannot both be null. A one-to-one
                    correspondence between refundId and refundRequestId exists. If
                    both refundRequestId and refundId are specified, refundId takes
                    precedence.


                    More information:


                    Maximum length: 64 characters'
                merchantAccountId:
                  type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    $ref: '#/components/schemas/Result'
                    description: 'The request result contains information such as
                      status and error codes.


                      Note: This field does not indicate the refund result. This field
                      only indicates whether the inquiryRefund interface is called
                      successfully. '
                  refundId:
                    type: string
                    description: 'The unique ID assigned by Antom to identify a refund.
                      A one-to-one correspondence between refundId and refundRequestId
                      exists.


                      Note: This field is null when the refund record cannot be found,
                      or result.resultStatus is F or U. '
                  refundRequestId:
                    type: string
                    description: "The unique ID assigned by the merchant to identify\
                      \ a refund request.\n\nNote: This field is null when the refund\
                      \ record cannot be found, or result.resultStatus is F or U.\
                      \ \n\nMore information:\n\nMaximum length: 64 characters"
                  refundAmount: &id001
                    $ref: '#/components/schemas/Amount'
                    description: 'The refund amount that is initiated by the merchant.


                      Note: This field is null when the refund record cannot be found,
                      or result.resultStatus is F or U. '
                  refundStatus:
                    $ref: '#/components/schemas/TransactionStatusType'
                    description: "Indicates the final status of the Antom refund,\
                      \ not the Alipay+ Mobile Payment Provider (Alipay+ payment methods)\
                      \ side. Valid values are:  \n\nSUCCESS: Indicates the refund\
                      \ is successful. \nPROCESSING: Indicates the refund is still\
                      \ under process. \nFAIL: Indicates the refund failed.\nNote:\
                      \ This field is null when the refund record cannot be found,\
                      \ or result.resultStatus is F or U. \n\nMore information:\n\n\
                      Maximum length: 16 characters\n"
                  refundTime:
                    type: string
                    description: "The date and time when the refund reaches a final\
                      \ state of success on the Antom side, not the Alipay+ Mobile\
                      \ Payment Provider (Alipay+ payment methods) side. \n\nNote:\
                      \ This field is returned when the value of refundStatus is SUCCESS.\n\
                      \nMore information:\n\nThe value follows the ISO 8601 standard\
                      \ format. For example, \"2019-11-27T12:01:01+08:00\"."
                  grossSettlementAmount: *id001
                  settlementQuote:
                    $ref: '#/components/schemas/Quote'
                    description: 'The exchange rate between the settlement currency
                      and payment currency.


                      Note: This field is returned when grossSettlementAmount is returned.'
                  acquirerInfo:
                    $ref: '#/components/schemas/AcquirerInfo'
                required:
                - result
          headers: {}
      security: []
components:
  schemas:
    AlipayInquiryRefundRequest:
      type: object
      properties:
        refundRequestId:
          type: string
          description: 'The unique ID assigned by a merchant to identify a refund
            request. refundRequestId and refundId cannot both be null. Special characters
            are not supported. If both refundRequestId and refundId are specified,
            refundId takes precedence.


            More information:


            Maximum length: 64 characters'
        refundId:
          type: string
          description: 'The unique ID assigned by Antom to identify a refund. refundRequestId
            and refundId cannot both be null. A one-to-one correspondence between
            refundId and refundRequestId exists. If both refundRequestId and refundId
            are specified, refundId takes precedence.


            More information:


            Maximum length: 64 characters'
        merchantAccountId:
          type: string
    AlipayInquiryRefundResponse:
      type: object
      properties:
        metadata:
          type: string
          maxLength: 2048
          description: Your metadata provided during the refund process. This parameter
            is returned when you provided value to the parameter in the refund API.
            Json format
        customizedInfo:
          $ref: '#/components/schemas/CustomizedInfo'
          description: Customized information field
        arn:
          type: string
          description: Acquirer Reference Number
        actualRefundAmount:
          $ref: '#/components/schemas/Amount'
          description: The actual refund amount processed
        result:
          $ref: '#/components/schemas/Result'
          description: 'The request result contains information such as status and
            error codes.


            Note: This field does not indicate the refund result. This field only
            indicates whether the inquiryRefund interface is called successfully. '
        refundId:
          type: string
          description: 'The unique ID assigned by Antom to identify a refund. A one-to-one
            correspondence between refundId and refundRequestId exists.


            Note: This field is null when the refund record cannot be found, or result.resultStatus
            is F or U. '
        refundRequestId:
          type: string
          description: "The unique ID assigned by the merchant to identify a refund\
            \ request.\n\nNote: This field is null when the refund record cannot be\
            \ found, or result.resultStatus is F or U. \n\nMore information:\n\nMaximum\
            \ length: 64 characters"
        refundAmount:
          $ref: '#/components/schemas/Amount'
          description: 'The refund amount that is initiated by the merchant.


            Note: This field is null when the refund record cannot be found, or result.resultStatus
            is F or U. '
        refundStatus:
          $ref: '#/components/schemas/TransactionStatusType'
          description: "Indicates the final status of the Antom refund, not the Alipay+\
            \ Mobile Payment Provider (Alipay+ payment methods) side. Valid values\
            \ are:  \n\nSUCCESS: Indicates the refund is successful. \nPROCESSING:\
            \ Indicates the refund is still under process. \nFAIL: Indicates the refund\
            \ failed.\nNote: This field is null when the refund record cannot be found,\
            \ or result.resultStatus is F or U. \n\nMore information:\n\nMaximum length:\
            \ 16 characters\n"
        refundTime:
          type: string
          description: "The date and time when the refund reaches a final state of\
            \ success on the Antom side, not the Alipay+ Mobile Payment Provider (Alipay+\
            \ payment methods) side. \n\nNote: This field is returned when the value\
            \ of refundStatus is SUCCESS.\n\nMore information:\n\nThe value follows\
            \ the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"\
            ."
        grossSettlementAmount:
          $ref: '#/components/schemas/Amount'
          description: 'The refund amount that is initiated by the merchant.


            Note: This field is null when the refund record cannot be found, or result.resultStatus
            is F or U. '
        settlementQuote:
          $ref: '#/components/schemas/Quote'
          description: 'The exchange rate between the settlement currency and payment
            currency.


            Note: This field is returned when grossSettlementAmount is returned.'
        acquirerInfo:
          $ref: '#/components/schemas/AcquirerInfo'
        rrn:
          type: string
          maxLength: 32
          description: 检索参考号，可提供给用户用于跟踪支付/退款/争议的详细信息
      required:
      - result
    Amount:
      type: object
      properties:
        currency:
          type: string
          description: "The 3-letter currency code that follows the ISO 4217 standard.\
            \ \n\nMore information:\n\nMaximum length: 3 characters"
        value:
          type: string
          description: "The value of the amount as a positive integer in the smallest\
            \ currency unit. For example, if the currency is USD and the amount is\
            \ $1.00, set the value of this parameter to 100; or if the currency is\
            \ JPY and the amount is ￥1, set the value of this parameter to 1.  \n\n\
            For details about the smallest currency unit, see Smallest unit of the\
            \ currency .\n\nFor details about the minimum payment amount allowed for\
            \ each payment method, see Minimum amount rules. \n\nNote: Due to the\
            \ currency practices in Indonesia, when the currency is IDR, round the\
            \ amount with banker's rounding and fix the last two digits of this parameter\
            \ as 00.  \n\nMore information:\n\nValue range: 0 - unlimited\n"
      required:
      - currency
      - value
    TransactionStatusType:
      type: string
      enum:
      - SUCCESS
      - FAIL
      - PROCESSING
      - CANCELLED
      - PENDING
    Quote:
      type: object
      properties:
        quoteId:
          type: string
          description: "The unique ID that is assigned by Antom to identify an exchange\
            \ rate. \n\nMore information:\n\nMaximum length: 64 characters"
        quoteCurrencyPair:
          type: string
          description: "The exchange rate between settlement currency and transaction\
            \ currency. Two currencies are separated with a slash and use the three-letter\
            \ ISO-4217 currency code.  \n\nMore information:\n\nMaximum length: 16\
            \ characters"
        quotePrice:
          type: number
          description: "The exchange rate used when a currency conversion between\
            \ settlement currency and transaction currency occurs.  \n\nMore information:\n\
            \nValue range: 1 - unlimited"
        quoteStartTime:
          type: string
          description: "Effective time of the exchange rate. \n\nMore information:\n\
            \nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"\
            .\n"
        quoteExpiryTime:
          type: string
          description: "Expiration time of the exchange rate.  \n\nMore information:\n\
            \nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"\
            .\n"
        guaranteed:
          type: boolean
          description: "Guaranteed exchange rate available for payment.  \n\n"
        exchangeAmount:
          $ref: '#/components/schemas/Amount'
          description: Added field for exchange amount
      required:
      - quoteCurrencyPair
      - quotePrice
    AcquirerInfo:
      type: object
      properties:
        acquirerName:
          type: string
          description: "The name of the acquirer. \n\nNote: This parameter is returned\
            \ if you integrate the APO product.  \n\nMore information:\n\nMaximum\
            \ length: 64 characters"
        referenceRequestId:
          type: string
          description: "The unique ID that is assigned by APO to identify a payment\
            \ request sent to the acquirer.\n\nNote: This parameter is returned if\
            \ you integrate the APO product.  \n\nMore information:\n\nMaximum length:\
            \ 64 characters"
        acquirerTransactionId:
          type: string
          description: "The unique ID that is assigned by the acquirer to identify\
            \ a transaction. \n\nNote: This parameter is returned if you integrate\
            \ the APO product.\n\nMore information:\n\nMaximum length: 64 characters"
        acquirerMerchantId:
          type: string
          description: "The unique ID that is assigned by the acquirer to identify\
            \ a merchant. \n\nNote: This parameter is returned if you integrate the\
            \ APO product.  \n\nMore information:\n\nMaximum length: 64 characters\n"
        acquirerResultCode:
          type: string
          description: "The acquirer's result code that indicates the transaction\
            \ process result.  \n\nNote: This parameter is returned if you integrate\
            \ the APO product.\n\nMore information:\n\nMaximum length: 64 characters"
        acquirerResultMessage:
          type: string
          description: "The result message that describes acquirerResultCode in detail.\
            \  \n\nNote: This parameter is returned if you integrate the APO product.\n\
            \nMore information:\n\nMaximum length: 64 characters"
        acquirerMerchantName:
          type: string
          description: The merchant name registered with the acquirer
        acquirerReasonDescription:
          type: string
          description: The reason description provided by the acquirer
    Result:
      type: object
      properties:
        resultCode:
          type: string
          description: 'Result code


            More information:


            Maximum length: 64 characters'
        resultStatus:
          $ref: '#/components/schemas/ResultStatusType'
          description: "Result status. Valid values are:  \n\nS: Indicates that the\
            \ result status is successful. \nF: Indicates that the result status is\
            \ failed. \nU: Indicates that the result status is unknown. \nMore information:\n\
            \nMaximum length: 1 character"
        resultMessage:
          type: string
          description: 'Result message


            More information:


            Maximum length: 256 characters

            '
      required:
      - resultCode
      - resultStatus
      - resultMessage
    ResultStatusType:
      type: string
      enum:
      - S
      - F
      - U
    CustomizedInfo:
      type: object
      properties:
        customizedField1:
          type: string
          description: Customized field 1
        customizedField2:
          type: string
          description: Customized field 2
        customizedField3:
          type: string
          description: Customized field 3
        customizedField4:
          type: string
          description: Customized field 4
        customizedField5:
          type: string
          description: Customized field 5
  securitySchemes: {}
servers:
- url: https://open-sea-global.alipay.com/ams/api/v1/payments/inquiryRefund
  description: 正式环境
security: []
