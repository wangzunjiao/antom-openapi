{
  "openapi": "3.1.0",
  "info": {
    "title": "payments_capture",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [],
  "paths": {
    "/ams/api/v1/payments/capture": {
      "post": {
        "summary": "capture",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "captureRequestId": {
                    "type": "string",
                    "description": "The unique ID that is assigned by the merchant to identify a capture request. Antom uses this field for idempotence control.  \n\nMore information:\n\nThis field is an API idempotency field.For capture requests that are initiated with the same value of captureRequestId and reach a final status (S or F), the same result is to be returned for the request.\nMaximum length: 64 characters"
                  },
                  "paymentId": {
                    "type": "string",
                    "description": "The unique ID that is assigned by Antom to identify a payment.  \n\nMore information:\n\nMaximum length: 64 characters"
                  },
                  "captureAmount": {
                    "description": "The capture amount that the merchant requests to receive in the transaction currency.",
                    "$ref": "#/components/schemas/Amount"
                  },
                  "isLastCapture": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "captureRequestId",
                  "paymentId",
                  "captureAmount"
                ]
              },
              "example": ""
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "result": {
                      "$ref": "#/components/schemas/Result"
                    },
                    "captureRequestId": {
                      "type": "string",
                      "description": "The unique ID that is assigned by a merchant to identify a capture request.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
                    },
                    "captureId": {
                      "type": "string",
                      "description": "The unique ID that is assigned by Antom to identify a capture.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
                    },
                    "paymentId": {
                      "type": "string",
                      "description": "The unique ID that is assigned by Antom to identify a payment.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
                    },
                    "captureAmount": {
                      "description": "The capture amount that the merchant requests to receive in the transaction currency.",
                      "$ref": "#/components/schemas/Amount"
                    },
                    "captureTime": {
                      "type": "string",
                      "description": "The time when Antom captures the payment. \n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"."
                    },
                    "acquirerReferenceNo": {
                      "type": "string",
                      "description": "The unique ID assigned by the non-Antom acquirer for the transaction.  \n\nMore information:\n\nMaximum length: 64 characters"
                    }
                  },
                  "required": [
                    "result"
                  ]
                },
                "example": {
                  "result": {
                    "resultStatus": "S",
                    "resultCode": "SUCCESS",
                    "resultMessage": "success."
                  },
                  "captureTime": "2025-04-14T20:35:50-07:00",
                  "paymentId": "202504151940108001001889C0235018078",
                  "captureRequestId": "capture_jk02038196_20250414_203548_515",
                  "captureId": "202504151940108070001889C0253659686",
                  "captureAmount": {
                    "currency": "HKD",
                    "value": "100"
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "schemas": {
      "AlipayCaptureRequest": {
        "type": "object",
        "properties": {
          "captureRequestId": {
            "type": "string",
            "description": "The unique ID that is assigned by the merchant to identify a capture request. Antom uses this field for idempotence control.  \n\nMore information:\n\nThis field is an API idempotency field.For capture requests that are initiated with the same value of captureRequestId and reach a final status (S or F), the same result is to be returned for the request.\nMaximum length: 64 characters"
          },
          "paymentId": {
            "type": "string",
            "description": "The unique ID that is assigned by Antom to identify a payment.  \n\nMore information:\n\nMaximum length: 64 characters"
          },
          "captureAmount": {
            "description": "The capture amount that the merchant requests to receive in the transaction currency.",
            "$ref": "#/components/schemas/Amount"
          },
          "isLastCapture": {
            "type": "boolean"
          },
          "captureType": {
            "type": "string",
            "description": "The type of capture operation"
          },
          "transit": {
            "$ref": "#/components/schemas/Transit",
            "description": "Transit related information"
          }
        },
        "required": [
          "captureRequestId",
          "paymentId",
          "captureAmount"
        ]
      },
      "Amount": {
        "type": "object",
        "properties": {
          "currency": {
            "type": "string",
            "description": "The 3-letter currency code that follows the ISO 4217 standard. \n\nMore information:\n\nMaximum length: 3 characters"
          },
          "value": {
            "type": "string",
            "description": "The value of the amount as a positive integer in the smallest currency unit. For example, if the currency is USD and the amount is $1.00, set the value of this parameter to 100; or if the currency is JPY and the amount is \uffe51, set the value of this parameter to 1.  \n\nFor details about the smallest currency unit, see Smallest unit of the currency .\n\nFor details about the minimum payment amount allowed for each payment method, see Minimum amount rules. \n\nNote: Due to the currency practices in Indonesia, when the currency is IDR, round the amount with banker's rounding and fix the last two digits of this parameter as 00.  \n\nMore information:\n\nValue range: 0 - unlimited\n"
          }
        },
        "required": [
          "currency",
          "value"
        ]
      },
      "AlipayCaptureResponse": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/Result"
          },
          "captureRequestId": {
            "type": "string",
            "description": "The unique ID that is assigned by a merchant to identify a capture request.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
          },
          "captureId": {
            "type": "string",
            "description": "The unique ID that is assigned by Antom to identify a capture.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
          },
          "paymentId": {
            "type": "string",
            "description": "The unique ID that is assigned by Antom to identify a payment.\n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nMaximum length: 64 characters"
          },
          "captureAmount": {
            "description": "The capture amount that the merchant requests to receive in the transaction currency.",
            "$ref": "#/components/schemas/Amount"
          },
          "captureTime": {
            "type": "string",
            "description": "The time when Antom captures the payment. \n\nNote: This parameter is returned when the capture status is successful.\n\nMore information:\n\nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"."
          },
          "acquirerReferenceNo": {
            "type": "string",
            "description": "The unique ID assigned by the non-Antom acquirer for the transaction.  \n\nMore information:\n\nMaximum length: 64 characters"
          }
        },
        "required": [
          "result"
        ]
      },
      "Result": {
        "type": "object",
        "properties": {
          "resultCode": {
            "type": "string",
            "description": "The result code that indicates the detailed processing result.  \n\nMore information:\n\nMaximum length: 64 characters"
          },
          "resultStatus": {
            "$ref": "#/components/schemas/ResultStatusType",
            "description": "Result status. Valid values are:\n\nS: Indicates that the result status is successful.\nF: Indicates that the result status is failed.\nU: Indicates that the result status is unknown. "
          },
          "resultMessage": {
            "type": "string",
            "description": "Result message that explains the result code. \n\nMore information:\n\nMaximum length: 256 characters"
          }
        },
        "required": [
          "resultCode",
          "resultStatus",
          "resultMessage"
        ]
      },
      "ResultStatusType": {
        "type": "string",
        "enum": [
          "S",
          "F",
          "U"
        ]
      },
      "Transit": {
        "type": "object",
        "properties": {
          "transitType": {
            "$ref": "#/components/schemas/TransitType",
            "description": "Trip modes, valid values are:\n\nFLIGHT: indicates that the trip mode is by plane.\nTRAIN: indicates that the trip mode is by train.\nCRUISE: indicates that the trip mode is by cruise.\nCOACH: indicates that the trip mode is by coach.\n"
          },
          "legs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Leg"
            },
            "description": "Information about sections of the trip, including departure time, arrival time, departure address, arrival address, transportation company name, carrier code and service type.\n\nMore information:\n\nMaximum size: 10 elements",
            "maxItems": 10
          },
          "passengers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Passenger"
            },
            "description": "Information about the passenger of the trip, including the passenger names, passenger email and phone number.\n\nMore information:\n\nMaximum size: 100 elements"
          },
          "agentCode": {
            "type": "string",
            "description": "Added field for agent code"
          },
          "agentName": {
            "type": "string",
            "description": "Added field for agent name"
          },
          "ticketNumber": {
            "type": "string",
            "description": "Added field for ticket number"
          },
          "ticketIssuerCode": {
            "type": "string",
            "description": "Added field for ticket issuer code"
          },
          "restrictedTicketIndicator": {
            "type": "string",
            "description": "Added field for restricted ticket indicator"
          },
          "ancillaryData": {
            "$ref": "#/components/schemas/AncillaryData",
            "description": "Ancillary data for the transit"
          }
        }
      },
      "TransitType": {
        "type": "string",
        "enum": [
          "FLIGHT",
          "TRAIN",
          "CRUISE",
          "COACH"
        ],
        "description": "Type of transit"
      },
      "Leg": {
        "type": "object",
        "properties": {
          "departureTime": {
            "type": "string",
            "description": "Time of departure for this leg of the trip.\n\nMore information:\n\nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\"."
          },
          "arrivalTime": {
            "type": "string",
            "description": "Time of arrival for this leg of the trip.\n\nMore information:\n\nThe value follows the ISO 8601 standard format. For example, \"2019-11-27T12:01:01+08:00\".\n"
          },
          "departureAddress": {
            "$ref": "#/components/schemas/Address",
            "description": "Hotel address."
          },
          "arrivalAddress": {
            "$ref": "#/components/schemas/Address",
            "description": "Hotel address."
          },
          "carrierName": {
            "type": "string",
            "description": "Company name of the transportation service provider for this leg of the trip.\n\nMore information:\n\nMaximum length: 128 characters"
          },
          "carrierNo": {
            "type": "string",
            "description": "Code for the carrier for this leg of the trip.\n\nMore information:\n\nMaximum length: 64 characters"
          },
          "classType": {
            "$ref": "#/components/schemas/ClassType",
            "description": "Service level for this leg of the trip. Valid values are:\n\nFIRSTLEVEL: indicates that the service is the first class. For example, flight first class, cruise luxury seat, train business class seat/1st class sleeper, coach first-level seat.\nSECONDLEVEL: indicates that the service is the second class. For example, fight business class, cruise business seat, train 1st class seat/2nd class sleeper, coach second-level seat.\nTHIRDLEVEL: indicates that the service is the third class. For example, fight economic class or premium economic, cruise normal seat, train 2nd class seat/standing, coach normal seat.\nMore information:\n\nMaximum length: 32 characters"
          },
          "departureAirportCode": {
            "type": "string",
            "description": "IATA code for the originating airport for this leg of the trip.\n\nMore information:\n\nMaximum length: 8 characters\n"
          },
          "arrivalAirportCode": {
            "type": "string",
            "description": "IATA code for the destination airport for this leg of the trip.\n\nMore information:\n\nMaximum length: 8 characters\n"
          },
          "fareBasis": {
            "type": "string",
            "description": "Fare basis code for this leg of the trip."
          },
          "couponNumber": {
            "type": "string",
            "description": "Coupon number associated with this leg of the trip."
          },
          "flightNumber": {
            "type": "string",
            "description": "Flight number for this leg of the trip."
          }
        }
      },
      "Address": {
        "type": "object",
        "properties": {
          "region": {
            "type": "string",
            "description": "The 2-letter country or region code. For more information, see the ISO 3166 Country Codes standard. \n\nMore information:\n\nMaximum length: 2 characters"
          },
          "state": {
            "type": "string",
            "description": "The state, country, or province name. \n\nFor card payments, if your business entity is in the United States, and the card issuing country is Canada, the United States, or the United Kingdom, set the value to a region code that consists of two to three characters and follows the ISO 3166-2 standard. \n\nMore information:\n\nMaximum length: 8 characters"
          },
          "city": {
            "type": "string",
            "description": "The city, district, suburb, town, or village name. \n\nMore information:\n\nMaximum length: 32 characters\n"
          },
          "address1": {
            "type": "string",
            "description": "Address line 1, for example, the street address, PO box, and company name. \n\nMore information:\n\nMaximum length: 256 characters"
          },
          "address2": {
            "type": "string",
            "description": "Address line 2, for example, the apartment, suite, unit, and building information. \n\nMore information:\n\nMaximum length: 256 characters"
          },
          "zipCode": {
            "type": "string",
            "description": "The ZIP or postal code. \n\nFor card payments, if your business entity is in the United States, specify this parameter according to the following parameter value requirements:\n\nOnly contains numbers, letters, hyphens, and spaces.\nMust be within ten characters. \nMore information:\n\nMaximum length: 32 characters"
          },
          "label": {
            "type": "string"
          },
          "address3": {
            "type": "string"
          }
        },
        "required": [
          "region"
        ]
      },
      "ClassType": {
        "type": "string",
        "enum": [
          "FIRSTLEVEL",
          "SECONDLEVEL",
          "THIRDLEVEL"
        ]
      },
      "Passenger": {
        "type": "object",
        "properties": {
          "passengerName": {
            "$ref": "#/components/schemas/UserName",
            "description": "The name of the recipient. \n\nNote: Specify this parameter if you require risk control. Providing this information helps to increase the accuracy of anti-money laundering and fraud detection, and increase payment success rates.  "
          },
          "passengerEmail": {
            "type": "string",
            "description": "The email of the passenger.\n\nMore information:\n\nMaximum length: 64 characters"
          },
          "passengerPhoneNo": {
            "type": "string",
            "description": "The mobile phone number of the passenger.\n\nMore information:\n\nMaximum length: 32 characters"
          },
          "passengerId": {
            "type": "string",
            "description": "Passenger identification number"
          },
          "passengerIdType": {
            "$ref": "#/components/schemas/PassengerIdType"
          },
          "passengerCode": {
            "type": "string",
            "description": "Passenger code or reference number"
          }
        }
      },
      "UserName": {
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          }
        },
        "required": [
          "firstName",
          "middleName",
          "lastName",
          "fullName"
        ]
      },
      "PassengerIdType": {
        "type": "string",
        "enum": [
          "PASSPORT",
          "NATIONAL_ID_CARD",
          "DRIVER_LICENSE",
          "MILITARY_ID",
          "GREEN_CARD",
          "TRAVEL_DOCUMENT",
          "ALIEN_REGISTRATION_CARD",
          "BIRTH_CERTIFICATE",
          "OTHERS"
        ],
        "description": "Type of passenger identification"
      },
      "AncillaryData": {
        "type": "object",
        "properties": {
          "services": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Service"
            },
            "description": "List of services for ancillary data"
          },
          "connectedTicketNumber": {
            "type": "string",
            "description": "Connected ticket number"
          }
        }
      },
      "Service": {
        "type": "object",
        "properties": {
          "categoryCode": {
            "type": "string",
            "description": "Category code for the service"
          },
          "subCategoryCode": {
            "type": "string",
            "description": "Sub-category code for the service"
          }
        }
      }
    },
    "securitySchemes": {}
  },
  "servers": [
    {
      "url": "https://open-sea-global.alipay.com/ams/api/v1/payments/capture",
      "description": "\u6b63\u5f0f\u73af\u5883"
    }
  ],
  "security": []
}