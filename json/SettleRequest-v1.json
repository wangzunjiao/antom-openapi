{
  "openapi": "3.1.0",
  "info": {
    "title": "marketplace_settle",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [],
  "paths": {
    "/ams/api/v1/payments/settle": {
      "post": {
        "summary": "settle",
        "deprecated": false,
        "description": "Use this API to get the cashier page address. After getting the cashier page address, you can redirect the user to the cashier page to make a payment.\n",
        "tags": [],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AlipaySettleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlipaySettleResponse"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "schemas": {
      "Result": {
        "type": "object",
        "properties": {
          "resultCode": {
            "type": "string",
            "description": "The result code."
          },
          "resultStatus": {
            "description": "The result status. Valid values are:\n\nS: indicates that the result status is successful.\nF: indicates that the result status is failed. \nU: indicates that the result status is unknown. ",
            "$ref": "#/components/schemas/ResultStatusType"
          },
          "resultMessage": {
            "type": "string",
            "description": "The result message."
          }
        },
        "required": [
          "resultCode",
          "resultStatus",
          "resultMessage"
        ]
      },
      "Amount": {
        "type": "object",
        "properties": {
          "currency": {
            "type": "string",
            "description": "The transaction currency, which is a 3-letter currency code that follows the ISO 4217 standard. \n\nMore information:\n\nMaximum length: 3 characters"
          },
          "value": {
            "type": "string",
            "description": "The value of the amount as a positive integer in the smallest currency unit. For example, if the currency is USD and the amount is $1.00, set the value of this parameter to 100; or if the currency is JPY and the amount is \uffe51, set the value of this parameter to 1.\n\nFor details about the smallest currency unit, see Smallest unit of the currency.\n\nFor details about the minimum payment amount allowed for each payment method, see Minimum amount rules.  \n\nMore information:\n\nValue range: [1, +\u221e)"
          }
        },
        "required": [
          "currency",
          "value"
        ]
      },
      "ResultStatusType": {
        "type": "string",
        "enum": [
          "S",
          "F",
          "U"
        ]
      },
      "SettleToType": {
        "type": "string",
        "enum": [
          "SELLER",
          "MARKETPLACE"
        ]
      },
      "SettlementDetail": {
        "type": "object",
        "properties": {
          "settleTo": {
            "$ref": "#/components/schemas/SettleToType",
            "description": "The destination where the funds of a successful payment are settled. Valid values are:\n\nSELLER: indicates that the funds are settled to the seller. \nMARKETPLACE: indicates that the funds are settled to the marketplace.  \nMore information:\n\nMaximum length: 32 characters"
          },
          "settlementAmount": {
            "$ref": "#/components/schemas/Amount",
            "description": "The amount of funds that need to be settled.  \n\n"
          }
        },
        "required": [
          "settleTo",
          "settlementAmount"
        ]
      },
      "AlipaySettleRequest": {
        "type": "object",
        "properties": {
          "settlementRequestId": {
            "type": "string",
            "description": "The unique ID that is assigned by the marketplace to identify a settlement request. Antom uses this field for idempotence control. \n\nMore information:\n\nThis field is an API idempotency field.For registration requests that are initiated with the same value of settlementRequestId and reach a final status (resultStatus = S or F), the same result is to be returned for the request.\nMaximum length: 64 characters"
          },
          "paymentId": {
            "type": "string",
            "description": "The unique ID that is assigned by Antom to identify a payment. The value of this parameter is returned through the same parameter in the pay (Cashier Payment) API.  \n\nMore information:\n\nMaximum length: 64 characters"
          },
          "settlementDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SettlementDetail"
            },
            "description": "The settlement details for a payment.  \n\nMore information:\n\nMaximum length: 20 characters"
          }
        },
        "required": [
          "settlementRequestId",
          "paymentId",
          "settlementDetails"
        ]
      },
      "AlipaySettleResponse": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/Result",
            "description": "The request result, which contains information such as status and error codes. "
          },
          "settlementRequestId": {
            "type": "string",
            "description": "The unique ID that is assigned by the marketplace to identify a settlement request.  \n\nMore information:\n\nMaximum length: 64 characters"
          },
          "settlementId": {
            "type": "string",
            "description": "The unique ID that is assigned by Antom to identify a settlement.  \n\nMore information:\n\nMaximum length: 64 characters"
          }
        },
        "required": [
          "settlementRequestId",
          "settlementId"
        ]
      },
      "response": {
        "type": "object",
        "properties": {
          "rrn": {
            "type": "string",
            "maxLength": 32,
            "description": "\u68c0\u7d22\u53c2\u8003\u53f7\uff0c\u53ef\u63d0\u4f9b\u7ed9\u7528\u6237\u7528\u4e8e\u4e0e\u53d1\u5361\u884c\u8ddf\u8e2a\u4ed8\u6b3e/\u9000\u6b3e/\u4e89\u8bae\u7684\u8be6\u7ec6\u4fe1\u606f"
          },
          "arn": {
            "type": "string",
            "description": "\u6536\u5355\u884c\u53c2\u8003\u53f7\uff0c\u6536\u5355\u884c\u63d0\u4f9b\u7684\u4ea4\u6613\u53f7\uff0c\u4e5f\u53ef\u63d0\u4f9b\u7ed9\u7528\u6237\u7528\u4e8e\u8ddf\u8e2a\u8d44\u91d1\u6d41\u52a8"
          },
          "acquirerTransactionId": {
            "type": "string",
            "description": "\u6536\u5355\u884c\u4ea4\u6613ID"
          }
        }
      }
    },
    "securitySchemes": {}
  },
  "servers": [
    {
      "url": "https://open-sea-global.alipay.com/ams/api/v1/payments/settle",
      "description": "\u6b63\u5f0f\u73af\u5883"
    }
  ],
  "security": []
}